<!-- src/app/reservation/reservation.component.html -->
<div class="container">
  <h1>Reservations</h1>
  
  <!-- Table to display reservations -->
  <table class="table">
    <thead>
      <tr>
        <th>ID Reservation</th>
        <th>Academic Year</th>
        <th>Status</th>
        <th>Actions</th> <!-- Added actions column -->
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let reservation of reservations">
        <td>{{ reservation.idReservation }}</td>
        <td>{{ reservation.anneeUniversitaire | date: 'yyyy-MM-dd' }}</td>
        <td>{{ reservation.estValide ? 'Valid' : 'Invalid' }}</td>
        <td>
          <button
            class="btn btn-danger"
            (click)="deleteReservation(reservation.idReservation!)" 
            *ngIf="reservation.idReservation"> <!-- Show button only if idReservation is defined -->
            Delete
          </button>
        </td>
        
      </tr>
    </tbody>
  </table>

  <!-- Add reservation form -->
  <h2>Add Reservation</h2>
  <form (ngSubmit)="addReservation()">
    <div class="form-group">
      <label for="idReservation">Id</label>
      <input type="text" class="form-control" id="anneeUniversitaire" [(ngModel)]="newReservation.idReservation" name="idReservation" required>
    </div>
    <div class="form-group">
      <label for="anneeUniversitaire">Academic Year</label>
      <input type="date" class="form-control" id="anneeUniversitaire" [(ngModel)]="newReservation.anneeUniversitaire" name="anneeUniversitaire" required>
    </div>
    <div class="form-group">
      <label for="estValide">Status</label>
      <select class="form-control" id="estValide" [(ngModel)]="newReservation.estValide" name="estValide" required>
        <option [value]="true">Valid</option>
        <option [value]="false">Invalid</option>
      </select>
    </div>
    <button type="submit" class="btn btn-primary">Add Reservation</button>
  </form>
</div>
